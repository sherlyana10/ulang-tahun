<!DOCTYPE html>
<html lang="id">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Selamat Ulang Tahun ðŸŽ‰</title>
   <style>
      * {
         margin: 0;
         padding: 0;
      }
      body {
         background-color: black;
         overflow: hidden;
      }
      h1 {
         margin-top: 5%;
         font-family: 'Segoe UI', sans-serif;
         font-size: 60px;
         text-align: center;
         color: white;
         z-index: 5;
         position: relative;
      }
      #centerImage {
         position: absolute;
         top: 50%;
         left: 50%;
         transform: translate(-50%, -50%);
         width: 250px; /* sesuaikan */
         border-radius: 20px;
         z-index: 10;
         box-shadow: 0 0 30px white;
      }
      #marqueeText {
         position: fixed;
         bottom: 20px;
         width: 100%;
         color: white;
         font-size: 18px;
         z-index: 5;
         text-align: center;
      }
   </style>
</head>
<body>
   <h1>Selamat Ulang Tahun Kamu</h1>

   <!-- Ganti "teman.jpg" dengan nama foto teman -->
   <img src="aldo.jpg" alt="Foto Teman" id="centerImage">

   <!-- Ucapan bergerak -->
   <div id="marqueeText">
      [ <marquee scrollamount="5" width="630" height="20" behavior="alternate">
         Selamat ulang tahun Dek. Semoga panjang umur, murah rejeki, dan sehat selalu. 
         Ingat selalu pesan kakak! Jaga kehormatan dan wibawa keluarga kita!
      </marquee> ]
   </div>

   <script>
      var rnd = Math.random;
      let canvas = document.createElement('canvas');
      document.body.appendChild(canvas);
      canvas.style.position = 'absolute';
      canvas.style.top = '0';
      canvas.style.left = '0';
      canvas.style.width = '100%';
      canvas.style.height = '100%';
      canvas.style.zIndex = '0';
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      let ctx = canvas.getContext('2d');

      function rndNum(num) { return rnd() * num + 1; }
      function vector(x, y) { this.x = x; this.y = y; this.add = function(v){ this.x += v.x; this.y += v.y; } }
      function particle(pos, vel) {
         this.pos = new vector(pos.x, pos.y);
         this.vel = vel;
         this.finish = false;
         this.start = 0;
         this.update = function(time) {
            if (time - this.start > 500) this.finish = true;
            if (!this.finish) { this.pos.add(this.vel); this.vel.y += gravity; }
         };
         this.draw = function() { if (!this.finish) drawDot(this.pos.x, this.pos.y, 1); }
      }
      function firework(x, y) {
         this.pos = new vector(x, y);
         this.vel = new vector(0, -rndNum(10) - 3);
         this.color = 'hsl(' + rndNum(360) + ', 100%, 50%)';
         this.size = 4;
         this.finish = false;
         let exParticles = [], exPLen = 100;
         let rootShow = true;
         this.update = function(time) {
            if (this.finish) return;
            rootShow = this.vel.y < 0;
            if (rootShow) {
               this.pos.add(this.vel);
               this.vel.y += gravity;
            } else {
               if (exParticles.length === 0) {
                  flash = true;
                  for (let i = 0; i < exPLen; i++) {
                     let p = new particle(this.pos, new vector(-rndNum(10) + 5, -rndNum(10) + 5));
                     p.start = time;
                     exParticles.push(p);
                  }
               }
               let countFinish = 0;
               for (let p of exParticles) {
                  p.update(time);
                  if (p.finish) countFinish++;
               }
               if (countFinish === exPLen) this.finish = true;
            }
         }
         this.draw = function() {
            if (this.finish) return;
            ctx.fillStyle = this.color;
            if (rootShow) drawDot(this.pos.x, this.pos.y, this.size);
            else for (let p of exParticles) p.draw();
         }
      }
      function drawDot(x, y, size) { ctx.beginPath(); ctx.arc(x, y, size, 0, Math.PI * 2); ctx.fill(); ctx.closePath(); }

      let fireworks = [], gravity = 0.2, flash = false;
      function init() { for (let i = 0; i < 20; i++) fireworks.push(new firework(rndNum(canvas.width), canvas.height)); }
      function update(time) { for (let f of fireworks) f.update(time); }
      function draw(time) {
         update(time);
         ctx.fillStyle = 'rgba(0,0,0,0.3)';
         ctx.fillRect(0, 0, canvas.width, canvas.height);
         for (let i = 0; i < fireworks.length; i++) {
            let f = fireworks[i];
            if (f.finish) fireworks[i] = new firework(rndNum(canvas.width), canvas.height);
            fireworks[i].draw();
         }
         requestAnimationFrame(draw);
      }
      window.addEventListener('resize', () => {
         canvas.width = window.innerWidth;
         canvas.height = window.innerHeight;
      });
      init();
      draw();
   </script>
</body>
</html>
